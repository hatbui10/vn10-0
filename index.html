<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>STT & 0-1</title>

<style>
body {
    font-family: Consolas, monospace;
    background: #0f172a;
    padding: 30px;
    color: #e5e7eb;
}

.row {
    display: grid;
    grid-template-columns: repeat(25, 48px);
    gap: 6px;
    margin-bottom: 12px;
}

input {
    width: 48px;
    height: 40px;
    text-align: center;
    font-size: 16px;
    border-radius: 6px;
    border: none;
    outline: none;
    box-sizing: border-box;
}

.stt input {
    background: #1e293b;
    color: #38bdf8;
    font-weight: bold;
}

.val input {
    background: #020617;
    color: #facc15;
}

input:disabled {
    opacity: 0.6;
}

.sum {
    margin-top: 10px;
    font-size: 18px;
    color: #a5f3fc;
}
</style>
</head>
<body>

<div class="row stt" id="sttRow"></div>
<div class="row val" id="valRow"></div>

<div class="sum">
    T·ªïng: <span id="sum">0</span>
</div>

<script>
const COLS = 25;
const sttInputs = [];
const valInputs = [];
let valCount = 0;

/* T·∫°o √¥ */
for (let i = 0; i < COLS; i++) {
    const s = document.createElement("input");
    s.maxLength = 3;
    s.disabled = i !== COLS - 1;
    document.getElementById("sttRow").appendChild(s);
    sttInputs.push(s);

    const v = document.createElement("input");
    v.maxLength = 1;
    v.disabled = i !== COLS - 1;
    document.getElementById("valRow").appendChild(v);
    valInputs.push(v);
}

/* Focus ban ƒë·∫ßu */
sttInputs[24].focus();

/* ===== STT ===== */
sttInputs[24].addEventListener("input", e => {
    e.target.value = e.target.value.replace(/\D/g, "");

    if (e.target.value.length === 3) {
        const base = parseInt(e.target.value, 10);

        // √¥ 1 = base ‚Üí √¥ 24 = base + 23
        for (let i = 0; i < 24; i++) {
            sttInputs[i].value = base + i;
        }

        sttInputs[24].value = "";

        setTimeout(() => {
            valInputs[24].focus();
        }, 1000);
    }
});

/* ===== 0‚Äì1 ===== */
valInputs[24].addEventListener("input", e => {
    if (!["0", "1"].includes(e.target.value)) {
        e.target.value = "";
        return;
    }

    // d·ªãch tr√°i h√†ng d∆∞·ªõi
    for (let i = 0; i < 24; i++) {
        valInputs[i].value = valInputs[i + 1].value;
    }
    valInputs[24].value = e.target.value;
    e.target.value = "";

    valCount++;

    updateSum(); // üëà T√çNH T·ªîNG

    // ƒë·ªß 25 l·∫ßn ‚Üí STT d·ªãch theo
    if (valCount >= 25) {
        for (let i = 0; i < 23; i++) {
            sttInputs[i].value = sttInputs[i + 1].value;
        }
        sttInputs[23].value =
            parseInt(sttInputs[22].value) + 1;

        valCount = 0;
    }

    valInputs[24].focus();
});

/* ===== T√çNH T·ªîNG 25 √î 0‚Äì1 ===== */
function updateSum() {
    let sum = 0;
    for (let i = 0; i < COLS; i++) {
        if (valInputs[i].value === "1") sum++;
    }
    document.getElementById("sum").textContent = sum;
}
</script>

</body>
</html>

